<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#loading{
				position: absolute;
				width: 100%;
				height: 100%;
				background-color: white;
				left: 0;
				top: 0;
			}
			#loading img{
				width: 60%;
			}
		</style>
	</head>
	<body>
		<div id="loading">
			<img src="loading.gif" alt="" />
			<p id="loadingText">0%</p>
		</div>
		<!--<img src="img/bg1.jpg"/>
		<img src="img/bg2.jpg"/>
		<img src="img/bg3.jpg"/>
		<img src="img/bg5.jpg"/>-->
		<script type="text/javascript">
			var oLoading = document.getElementById("loading");
			var loadingText = document.getElementById("loadingText");
			var imgArr = ["img/bg1.jpg","img/bg2.jpg","img/bg3.jpg","img/bg5.jpg"];
			function imgLoading () {
				var index = 0;
				for (var i = 0; i < imgArr.length; i++) {
//					var img = document.createElement("img");
					var img = new Image();
					img.onload = function  () {
						index++;
						console.log(parseInt(index/imgArr.length*100));
						loadingText.innerText = parseInt(index/imgArr.length*100) + "%";
						if (index === imgArr.length) {
							console.log(index);
							oLoading.style.display = "none";
						}
					}
					img.src = imgArr[i];
				}
			}
			imgLoading ();
		</script>
	</body>
</html>
